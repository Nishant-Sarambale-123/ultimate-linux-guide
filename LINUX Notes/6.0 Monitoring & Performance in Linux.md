Absolutely! Letâ€™s add **practical examples for every command/tool** from your monitoring & performance notes. This will make it interview-ready and scenario-based.

---

# ğŸ“Š Monitoring & Performance in Linux â€“ With Examples

---

## 1. CPU & Memory Monitoring

### ğŸ”¹ **top**

```bash
top
```

**Example output (simplified):**

```
PID USER   PR  NI  VIRT   RES   SHR S %CPU %MEM TIME+ COMMAND
1234 root   20   0 1620M  210M  20M R  50.0  5.0 10:23 java
4321 nginx  20   0  500M  50M   5M S  10.0  1.2  2:12 nginx
```

âœ… Shows real-time CPU/memory usage. Sort by CPU: press `P`. Sort by memory: press `M`.

---

### ğŸ”¹ **htop**

```bash
htop
```

**Example:**

* Shows CPU cores separately (graphical bars).
* Navigate with arrow keys, kill process `F9`, sort by memory `F6`.

---

### ğŸ”¹ **vmstat**

```bash
vmstat 2 5
```

**Output example:**

```
procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 1  0      0 102400  2048 40960    0    0     5     3    8   10 20  5 70  5  0
```

âœ… Shows CPU wait (`wa`), processes waiting (`r`), swap in/out (`si`/`so`).

---

### ğŸ”¹ **free**

```bash
free -m
```

**Output example:**

```
              total        used        free      shared  buff/cache   available
Mem:           8000        4000        1000         200        3000       3500
Swap:          2000         500        1500
```

âœ… Use `available` as the real free memory.

---

## 2. Disk I/O Monitoring

### ğŸ”¹ **iostat**

```bash
iostat -x 2 3
```

**Example:**

```
Device  r/s  w/s  rkB/s  wkB/s  rrqm/s  wrqm/s  %util
sda     5    10   120    240      0       0     50.0
```

âœ… `%util ~ 100%` â†’ disk overloaded.

---

### ğŸ”¹ **iotop**

```bash
sudo iotop -o
```

**Example:**

```
PID   USER   PRIO  DISK READ  DISK WRITE  SWAPIN  IO>    COMMAND
2345  mysql  be/4  0.00 K/s   500 K/s      0.00 %  0.50 % mysqld
```

âœ… Shows which process is doing most I/O.

---

### ğŸ”¹ **df**

```bash
df -h
```

**Example:**

```
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1        50G   30G   20G  60% /
```

âœ… Human-readable disk usage.

---

### ğŸ”¹ **du**

```bash
du -sh /var/log/*
```

**Example:**

```
120M /var/log/nginx
30M  /var/log/mysql
5M   /var/log/syslog
```

âœ… Shows size of each log directory/file.

---

## 3. Logs Analysis

### ğŸ”¹ **tail**

```bash
tail -n 10 /var/log/syslog
tail -f /var/log/nginx/error.log
```

**Example output:**

```
Aug 17 10:25:12 nginx[1234]: [error] File not found: /var/www/html/index.html
```

---

### ğŸ”¹ **grep**

```bash
grep "ERROR" /var/log/app.log
```

**Example:**

```
[2025-08-17 10:00] ERROR Failed to connect to DB
```

---

### ğŸ”¹ **awk**

```bash
awk '{print $1}' /var/log/nginx/access.log
```

**Example:**

* Prints first column (IP addresses).

---

### ğŸ”¹ **sed**

```bash
sed 's/ERROR/ISSUE/g' /var/log/app.log
```

âœ… Replaces all â€œERRORâ€ with â€œISSUEâ€ in output.

---

### ğŸ”¹ **cut**

```bash
cut -d' ' -f2 /var/log/access.log
```

âœ… Extracts 2nd column (space-delimited).

---

### ğŸ”¹ **sort & uniq**

```bash
awk '{print $1}' /var/log/nginx/access.log | sort | uniq -c | sort -nr | head -5
```

**Example Output:**

```
120 192.168.1.10
50  192.168.1.15
30  10.0.0.5
```

âœ… Shows top 5 IP addresses accessing server.

---

## ğŸ”¹ Scenario Examples

1. **Java app crashes â€œOut of Memoryâ€**

```bash
free -m
dmesg | grep -i oom
```

2. **Disk full, but df shows free**

```bash
lsof | grep deleted
```

* Deleted files still held by processes.

3. **Website slow; CPU low, I/O high**

```bash
iostat -x
iotop
```

* Disk bottleneck suspected.

4. **Top 5 error messages**

```bash
grep "ERROR" app.log | sort | uniq -c | sort -nr | head -5
```

---

This gives **real command examples for every tool**, with sample outputs and troubleshooting scenarios.

I can also create a **single-page â€œMonitoring & Performance Cheat Sheetâ€** with commands + scenario hints for interviews if you want. Do you want me to do that?
